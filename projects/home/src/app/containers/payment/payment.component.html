<ng-container *ngIf="products$ | async as products">
  <div *ngIf="products.length > 0; else emptyCart" class="flex flex-col gap-4 w-full py-5">
    <div>
      <span class="font-semibold text-2xl">Resumen de compra</span>
    </div>
    <div *ngFor="let product of products" class="flex items-center gap-4 border p-4 rounded-lg shadow-sm bg-white">
      <img [src]="product.thumbnail" alt="{{ product.title }}" class="w-20 h-20 object-cover rounded" />
      <div class="flex flex-col justify-between flex-1">
        <div class="text-lg font-semibold text-gray-800">
          {{ product.title }}
        </div>

        <div class="flex flex-wrap sm:justify-between text-sm text-gray-600 mt-2">
          <div>Cantidad: <span class="font-medium">{{ product.quantity }}</span></div>
          <div>Precio unitario: ${{ product.price }}</div>
        </div>
        <div class="mt-1 text-right font-semibold text-blue-600">
          Total: ${{ product.price * product.quantity | number: '1.2-2' }}
        </div>
      </div>
    </div>
    <div class="flex justify-end">
      <button pButton type="button" label="Pagar" class="p-button-warning" (click)='showModal()'>
      </button>
    </div>
  </div>
  <ng-template #emptyCart>
    <div class="w-full flex items-center py-5">
      <div class="flex flex-col p-5 items-center border rounded-lg shadow-sm bg-white gap-5 w-full">
        <span>Carrito de compras vac√≠o</span>
        <button pButton type="button" label="Ir a categorias" class="p-button-warning" (click)='navigateToCategories()'>
        </button>
      </div>
    </div>
  </ng-template>

</ng-container>


<app-modal-information (isClosed)="modalClose($event)"></app-modal-information>